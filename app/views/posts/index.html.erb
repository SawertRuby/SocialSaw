<h1>–û–±—â–∞—è –ª–µ–Ω—Ç–∞</h1>

<% @posts.reverse.each do |post| %>
  <div>
   <h3><%= link_to post.profile.username, profile_path(post.profile) %></h3>
    <h3><%= link_to post.description, post %></h3>
    <% post.images.each do |image| %>
      <%= image_tag image %>
    <% end %>
  </div>
  <% like = post.like.find_by(profile: current_user.profile) %>

<div class="like-buttons">
  <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ª–∞–π–∫–∞ -->
  <%= form_with(url: post_likes_path(post), method: :post, local: true) do |form| %>
    <%= hidden_field_tag :likeable_id, post.id %>
    <%= hidden_field_tag :likeable_type, 'Post' %>
    <%= hidden_field_tag :like_type, 1 %> <!-- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ª–∞–π–∫ -->

    <%= form.submit 'üëçüèª', class: like.present? && like.like_type == 1 ? 'active-like' : 'inactive-like' %>
    <span><%= post.like.where(like_type: 1).count %></span> <!-- –ü–æ–¥—Å—á–µ—Ç –ª–∞–π–∫–æ–≤ -->
  <% end %>

  <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –¥–∏–∑–ª–∞–π–∫–∞ -->
  <%= form_with(url: post_likes_path(post), method: :post, local: true) do |form| %>
    <%= hidden_field_tag :likeable_id, post.id %>
    <%= hidden_field_tag :likeable_type, 'Post' %>
    <%= hidden_field_tag :like_type, -1 %> <!-- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∏–∑–ª–∞–π–∫ -->

    <%= form.submit 'üëéüèª', class: like.present? && like.like_type == -1 ? 'active-dislike' : 'inactive-dislike' %>
    <span><%= post.like.where(like_type: -1).count %></span> <!-- –ü–æ–¥—Å—á–µ—Ç –¥–∏–∑–ª–∞–π–∫–æ–≤ -->
  <% end %>
</div>
<% end %>
